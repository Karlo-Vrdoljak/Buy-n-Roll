<app-breadcrumbs *ngIf="displayAccessories" [breadcrumbs]="breadcrumbs"></app-breadcrumbs>
<div *ngIf="oglas.photos.length == 0; else imageViewer" class="banner mb-4 relative">
  <!-- <div class="absolute text-2xl top-0 right-0">
    <div class="w-full">
      <span class="fa-stack px-4">
        <i class="fas fa-fw fa-camera-retro fa-stack-2x buynroll_deepGray"></i>
        <i class="fas fa-fw buynroll_lightYellow pl-2 fa-times fa-stack-1x fa-2x pr-2 fa-inverse"></i>
      </span>
    </div>
  </div> -->
</div>


<div class="p-grid p-nogutter">
  <div class="p-col">
    <div class="flex justify-center items-center " [ngsReveal]="{reset: true, origin: 'right'  }">
      <div class="max-w-full lg:w-full sm:mx-8 md:mx-24 lg:mx-48 xl:64 mx-2 rounded  border border-gray-300  overflow-hidden shadow-md relative z-0">
        <div class="bg-gray-100 z-10 relative">
          <div class="bg-gray-100 px-4 py-4 relative">
            <div [ngsReveal]="{reset: true, origin: 'right', delay: 50  }">
              <div>
                <div class="w-9/12 font-oswald font-semibold text-gray-800 text-2xl mb-1">{{ oglas.oglasNaziv }}</div>
                <div class="w-9/12 font-oswald mb-2 text-xl text-gray-800">{{ oglas.vehicle.chassis.model.series.manufacturer.manufacturerName }}&nbsp;{{ oglas.vehicle.chassis.model.series.seriesName }}&nbsp;{{ oglas.vehicle.chassis.model.modelName }}</div>
                <div class="w-9/12 font-oswald mb-2 text-xl text-gray-800 flex items-center">
                  <div class="mr-2">VIN &bull;</div>
                  <div>{{ oglas.vehicle.chassis.VIN? 'W0L0XCE7564000209' : 'W0L0XCE7564000209' }}</div>
                </div>
              </div>
              <div class="font-oswald flex flex-row mb-2 text-2xl font-thin">
                <div class="font-semibold mr-2 text-gray-700 cursor-pointer" [countUp]="price" [options]="countUpOptions">0</div>
              </div>
              <mat-divider class="mb-2"></mat-divider>
            </div>
          </div>
          <div class="p-grid p-nogutter">
            <div class="p-col-12 p-sm-12 p-md-6 p-lg-6 p-xl-7">
              <div class="bg-gray-100 px-4 pb-2 relative">
                <p class="font-mw text-gray-700 py-2 text-base">
                  <span class="whitespace-pre-line">{{ oglas.oglasOpis }}</span>
                </p>
                <div matRipple [ngsReveal]="{reset: true, origin: 'right', delay: 100 }" class="bg-gray-100 py-2 relative flex items-center cursor-pointer title-hover">
                  <img class="w-16 h-16 rounded-full mr-4 select-none" src="https://www.vhv.rs/dpng/d/256-2569650_men-profile-icon-png-image-free-download-searchpng.png" alt="Avatar of Jonathan Reinink">
                  <div class="text-sm">
                    <p class="font-mw text-gray-900 leading-none person">{{ oglas.vehicle.user.lastName }}&nbsp;{{ oglas.vehicle.user.firstName }}</p>
                    <p class="font-mw text-gray-600">15, Ruđera Boškovića, Smrdečac, Split 3, Split, Grad Split, Split-Dalmatia County, 21000, Croatia</p>
                    <p class="font-mw text-gray-600">{{ helperService.date(oglas.oglasCreatedAt) }}</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="p-col-12 p-sm-12 p-md-6 p-lg-6 p-xl-5">
              <div [ngsReveal]="{reset: true, origin: 'right', delay: 150  }" class="bg-gray-100 relative flex flex-wrap justify-center p-2 w-full">
                <div class="flex flex-col w-full">
                  <div>
                    <div class="font-oswald font-xl text-gray-800 font-medium">{{ ('GENERAL' | translate) | uppercase }}</div>
                    <!-- <mat-divider class="font-oswald pb-1" style="margin-right: 0.5rem;"></mat-divider> -->
                  </div>
                  <div class="font-oswald">
                    <span class="cursor-default inline-block rounded-sm px-3 py-1 my-1 text-sm font-semibold mr-2" [ngClass]="{'buynroll_bg_yellow text-yellow-800': oglas.vehicle.RegistriranDaNe == 1, 'buynroll_bg_silver text-gray-600': oglas.vehicle.RegistriranDaNe == 0 }">{{ ((oglas.vehicle.RegistriranDaNe == 1? 'REGISTRIRAN' : 'NEREGISTRIRAN' ) | translate) | uppercase }}</span>
                    <span class="cursor-default inline-block rounded-sm px-3 py-1 my-1 text-sm font-semibold mr-2 buynroll_bg_yellow text-yellow-800">{{ (oglas.vehicle.chassis.vehicleState | translate) | uppercase }}</span>
                    <span class="cursor-default inline-block rounded-sm px-3 py-1 my-1 text-sm font-semibold mr-2 buynroll_bg_yellow text-yellow-800">{{ oglas.vehicle.chassis.makeYear }}</span>
                    <span class="cursor-default inline-block rounded-sm px-3 py-1 my-1 text-sm font-semibold mr-2 buynroll_bg_yellow text-yellow-800">{{ (oglas.paymentMethod | translate) | uppercase }}</span>
                  </div>
                </div>
                <ng-container [ngTemplateOutlet]="pills" [ngTemplateOutletContext]="{title:'ACCESSORIES', items: oglas.accessories, bg: 'buynroll_bg_silver', text: 'text-gray-600' }"></ng-container>
                <ng-container [ngTemplateOutlet]="pills" [ngTemplateOutletContext]="{title:'KLIMA', items: oglas.airConditioning, bg: 'bg-gray-300', text: 'text-gray-600' }"></ng-container>
                <ng-container [ngTemplateOutlet]="pills" [ngTemplateOutletContext]="{title:'MUZIKA', items: oglas.autoRadioDefs, bg: 'bg-indigo-200', text: 'text-gray-800' }"></ng-container>
                <ng-container [ngTemplateOutlet]="pills" [ngTemplateOutletContext]="{title:'COMFORT', items: oglas.comfortAccessories, bg: 'bg-orange-200', text: 'text-yellow-600' }"></ng-container>
                <ng-container [ngTemplateOutlet]="pills" [ngTemplateOutletContext]="{title:'SAFETY', items: oglas.safety, bg: 'buynroll_bg_silver', text: 'text-gray-600' }"></ng-container>
                <ng-container [ngTemplateOutlet]="pills" [ngTemplateOutletContext]="{title:'THEFT_SAFETY', items: oglas.theftSafety, bg: 'bg-gray-300', text: 'text-gray-600' }"></ng-container>
              </div>
            </div>
          </div>
          <app-catalogue-action-icons [external]="false" [rating]="oglas.rating" [msgShade]="600" [offset]="1"></app-catalogue-action-icons>

        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #imageViewer>
  yeeeehaw
</ng-template>

<ng-template #pills let-title='title' let-items='items' let-bg='bg' let-text='text'>
  <div *ngIf="items" [ngsRevealSet]="{reset: true, origin: 'right'  }" [ngsInterval]="35" [ngsSelector]="'.revealItem'" class="bg-gray-100 relative flex flex-wrap justify-center py-2 w-full">
    <div class="flex flex-col w-full">
      <div>
        <div class="revealItem font-oswald font-xl text-gray-800 font-medium">{{ ( title | translate) | uppercase }}</div>
        <!-- <mat-divider class="font-oswald pb-1" style="margin-right: 0.5rem;"></mat-divider> -->
      </div>
      <div class="revealItem font-oswald">
        <ng-container *ngFor="let item of items">
          <span [class]="'font-oswald cursor-default inline-block rounded-sm px-3 py-1 my-1 text-sm font-semibold mr-2 ' + bg + ' ' + text">{{ item | uppercase }}</span>
        </ng-container>
      </div>
    </div>
  </div>
</ng-template>